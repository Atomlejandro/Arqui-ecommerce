<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">

<head>
	<meta charset="UTF-8">
	<title>Ecommerce</title>
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet"
		integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">

</head>

<body>


	<nav class="navbar navbar-expand-lg bg-dark navbar-dark">
		<div class="container-fluid">
			<a class="navbar-brand" href="/">Ecommerce</a>

			<div class="collapse navbar-collapse" id="navbarSupportedContent">
				<ul class="navbar-nav me-auto mb-2 mb-lg-0">

					<li class="nav-item">
						<a class="nav-link" href="/nuevo">Agregar Productos</a>
					</li>

				</ul>

			</div>
		</div>
	</nav>
<br>
	<div class="container text-center">
	
		<form class="form-inline " th:action="@{/}">
		<div class="form-group mb-2">
			<label> Filtrar</label>
		</div>
		
		<div class="form-group mx-sm-3 mb-2">
			<input type="text" name="palabraClave" class="form-control" id="palabraClave" th:value="${palabraClave}" placeholder="Prodcuto a buscar" required>
		</div>
		<input type="button" class="btn btn-secondary mb-2" value="limpiar" onclick="limpiarCampos()">
		&nbsp;&nbsp;
		<input type="submit" class="btn btn-secondary mb-2" value="buscar" >
		</form>
		<br>
		<table class="table">
			<thead>
				<tr>
					<th scope="col">ID</th>
					<th scope="col">EAN</th>
					<th scope="col">Nombre</th>
					<th scope="col">Descripci√≥n</th>
					<th scope="col">Marca</th>
					<th scope="col">Unidades</th>
					<th scope="col">Precio</th>
					<th scope="col">Foto</th>
				</tr>
			</thead>
			<tbody>
				<tr th:each="producto: ${listaProductos}">
					<td th:text="${producto.id}"></td>
					<td th:text="${producto.ean}"></td>
					<td th:text="${producto.nombre}"></td>
					<td th:text="${producto.descripcion}"></td>
					<td th:text="${producto.marca}"></td>
					<td th:text="${producto.Unidades}"></td>
					<td th:text="${producto.precio}"></td>
					<td>
						<img th:src="@{'/' + ${producto.photos}}" alt="Imagen del producto" style="width:100px;height:100px;">
            </td>
					<td>   <a th:href="@{/producto/{id}(id=${producto.id})}">Ver Detalles</a></td>

				

				</tr>
			</tbody>
		</table>
	</div>

<script type="text/javascript">
	function limpiarCampos(){
		window.location="/"
	}
	
	
</script>
</body>

</html>